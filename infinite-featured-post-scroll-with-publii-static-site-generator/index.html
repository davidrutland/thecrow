<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Infinite featured-post scroll with Publii static site generator - The Crow</title><meta name="description" content="The majority of people who use the internet (or just people - everyone uses the internet) can be divided into two camp: people who plug a search query into Google, then either visit a page or digest the AI summary, and doomscrollers. Doomscrolling is the&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://thecrow.uk/infinite-featured-post-scroll-with-publii-static-site-generator/"><link rel="alternate" type="application/atom+xml" href="https://thecrow.uk/feed.xml" title="The Crow - RSS"><link rel="alternate" type="application/json" href="https://thecrow.uk/feed.json" title="The Crow - JSON"><meta property="og:title" content="Infinite featured-post scroll with Publii static site generator"><meta property="og:image" content="https://thecrow.uk/media/posts/100/akram-huseyn-umJ4PCS-rEI-unsplash.jpg"><meta property="og:image:width" content="1600"><meta property="og:image:height" content="800"><meta property="og:site_name" content="The Crow"><meta property="og:description" content="The majority of people who use the internet (or just people - everyone uses the internet) can be divided into two camp: people who plug a search query into Google, then either visit a page or digest the AI summary, and doomscrollers. Doomscrolling is the&hellip;"><meta property="og:url" content="https://thecrow.uk/infinite-featured-post-scroll-with-publii-static-site-generator/"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://thecrow.uk/media/website/favicon.png" type="image/png"><link rel="stylesheet" href="https://thecrow.uk/assets/css/style.css?v=93aa404489111637d21ff3bea9ddad71"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://thecrow.uk/infinite-featured-post-scroll-with-publii-static-site-generator/"},"headline":"Infinite featured-post scroll with Publii static site generator","datePublished":"2025-07-18T12:19+01:00","dateModified":"2025-07-18T12:50+01:00","image":{"@type":"ImageObject","url":"https://thecrow.uk/media/posts/100/akram-huseyn-umJ4PCS-rEI-unsplash.jpg","height":800,"width":1600},"description":"The majority of people who use the internet (or just people - everyone uses the internet) can be divided into two camp: people who plug a search query into Google, then either visit a page or digest the AI summary, and doomscrollers. Doomscrolling is the&hellip;","author":{"@type":"Person","name":"David Rutland","url":"https://thecrow.uk/authors/david-rutland/"},"publisher":{"@type":"Organization","name":"David Rutland","logo":{"@type":"ImageObject","url":"https://thecrow.uk/media/website/the_crow_new_banner-3.png","height":233,"width":1070}}}</script><style>.u-tag--3d-printing{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--ai{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--amazon{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--audio{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--books{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--browser{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--cool-things{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--cyberdeck{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--emulation{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--entertainment{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--extensions{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--food{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--gaming{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--github{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--guide{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--hardware{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--hosting{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--internet{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--laptops{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--linux{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--macos{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--markdown{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--microsoft{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--monitoring{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--offbeat{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--opinion{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--privacy{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--raspberry-pi{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--retro{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--review{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--rss{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--scam{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--security{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--self-hosting{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--social-media{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--software{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--space{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--stuff{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--terminal{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--tips{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--tools{--badge-bg:#84888E;--badge-txt:#FFFFFF;}</style><noscript><style>img[loading]{opacity:1;}</style></noscript><script>var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://stats.rutland.org.uk/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '3']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();</script><script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="thecrow" data-description="Support me on Buy me a coffee!" data-message="" data-color="#FF5F5F" data-position="Right" data-x_margin="18" data-y_margin="18"></script></head><body class="post-template"><header class="topbar" id="js-header"><div class="topbar__inner"><a class="logo" href="https://thecrow.uk/"><img src="https://thecrow.uk/media/website/the_crow_new_banner-3.png" alt="The Crow" width="1070" height="233"></a><nav class="navbar"><button class="navbar__toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://thecrow.uk/tags/" target="_self">Articles and Essays</a></li><li><a href="https://thecrow.uk/contact-the-crow/" target="_self">Contact</a></li><li><a href="https://thecrow.uk/privacy-policy/" target="_self">Privacy policy</a></li><li><a href="https://social.rutland.org.uk/david" target="_blank">(Anti) Social</a></li><li><a href="https://thecrow.uk/feed.xml" target="_self">RSS</a></li></ul></nav></div></header><div class="main-content"><main class="main post"><article class="content"><div style="text-align: center; margin-bottom: 24px;"><a href="https://notbyai.fyi"><img src="https://notbyai.fyi/img/written-by-human-not-by-ai-white.svg" alt="Written by Human, Not by AI"></a></div><figure class="content__featured-image"><img src="https://thecrow.uk/media/posts/100/akram-huseyn-umJ4PCS-rEI-unsplash.jpg" srcset="https://thecrow.uk/media/posts/100/responsive/akram-huseyn-umJ4PCS-rEI-unsplash-xs.webp 300w, https://thecrow.uk/media/posts/100/responsive/akram-huseyn-umJ4PCS-rEI-unsplash-sm.webp 480w, https://thecrow.uk/media/posts/100/responsive/akram-huseyn-umJ4PCS-rEI-unsplash-md.webp 768w, https://thecrow.uk/media/posts/100/responsive/akram-huseyn-umJ4PCS-rEI-unsplash-lg.webp 1024w, https://thecrow.uk/media/posts/100/responsive/akram-huseyn-umJ4PCS-rEI-unsplash-xl.webp 1360w, https://thecrow.uk/media/posts/100/responsive/akram-huseyn-umJ4PCS-rEI-unsplash-2xl.webp 1600w" sizes="(max-width: 1600px) 100vw, 1600px" height="800" width="1600" alt="A student leafing through loose printed paper"></figure><header class="u-header content__header"><h1>Infinite featured-post scroll with Publii static site generator</h1><div class="u-header__meta u-small"><img src="https://thecrow.uk/media/website/me.avif" class="u-header__avatar" alt="David Rutland" height="false" width="false"><div><a href="https://thecrow.uk/authors/david-rutland/" title="David Rutland">David Rutland</a> <time datetime="2025-07-18T12:19">July 18, 2025 </time><a href="https://thecrow.uk/tags/tips/" class="u-tag u-tag--tips">Tips</a></div></div></header><div class="content__entry u-inner"><p data-pm-slice="1 1 []">The majority of people who use the internet (or just people - everyone uses the internet) can be divided into two camp: people who plug a search query into Google, then either visit a page or digest the AI summary, and doomscrollers.</p><p>Doomscrolling is the modern curse of mankind, and can lead to teenagers wasting their lives flicking from video to video on TikTok, YouTube shorts, Instagram Reels, and SnapChat.</p><p>This is especially galling during what promises to be a record breaking summer in the UK, and from the garden, The Crow can hear the occasional snicker through the teen's bedroom window, as yet another perfectly timed 60-second prank fails successfully.</p><p>The other type of visitor isn't ideal either. While we delight in each and every visit to The Crow, it's slightly irritating that people just smash and grab. It would be nice if guests hung around a bit longer, Maybe they'd click through a sponsored link to <a href="https://namecheap.pxf.io/c/5003685/408749/5618">purchase a very reasonably priced domain name</a> or perhaps <a href="https://buymeacoffee.com/thecrow" target="_blank" rel="noopener noreferrer">buy us a coffee</a>. It's feasible that they could discover an article they weren't looking for, and share it with a friend.</p><h2>An Infinite Scroll to scroll infinitely</h2><p>We <a href="https://thecrow.uk/want-to-easily-create-a-good-looking-website-in-minutes-this-is-how/">created this website with Publii and it's hosted on GItHub Pages</a>. Publii themes already have the option of having all posts displayed on the site homepage - and who spends any time on the homepage anyway? The behaviour we wanted was as follows:</p><ul><li><p>The reader scrolls to the bottom of a post page.</p></li><li><p>A new article appears in-line and without fuss.</p></li><li><p>The URL in the browser URL bar changes to reflect the new article.</p></li><li><p>The page title changes to reflect the new article title.</p></li><li><p>The view is logged by our self-hosted Matomo analytics server with the correct URL and article title</p></li></ul><p>There are a couple of things to note about this spec list:</p><ul><li><p>The articles should be of interest generally. Not everything published on The Crow is solid gold, and posts detailing how to install Golang are really helper pieces for different articles.</p></li><li><p>We want Matomo to track visits because we want to see how well this is working. We're not stalking you across the interwebs and selling your data to the highest bidder. This is purely internal.</p></li><li><p>Publii has a "Featured" feature which allows us to flag articles we want to appear in the side bar to be clicked. They're pieces we're particularly pleased with and provide a great source for our infinite scroll feature.</p></li></ul><h2>Infinite scroll isn't a new feature on static sites</h2><p>From what we were able to glean during a quick search of <a href="https://github.com/GetPublii/Publii/discussions/1421" data-md-href="https://github.com/GetPublii/Publii/discussions/1421" rel="noopener noreferrer nofollow">Publii's own GitHub Discussion forum</a>, Infinite Scroll is definitely a thing on Publii, and the <a href="https://marketplace.getpublii.com/themes/persona/" data-md-href="https://marketplace.getpublii.com/themes/persona/" rel="noopener noreferrer nofollow">Premium (paid) version of the Persona theme</a> already has it. But we're pretty invested in our customised TechNews theme right now, and besides, there's a ready-made solution out there in the form of the venerable and much-loved <a href="https://infinite-scroll.com/" data-md-href="https://infinite-scroll.com/" rel="noopener noreferrer nofollow">Infinite-scroll</a>.</p><p>The script has plenty of options, but none of them quite did what we needed. New requirements appeared in our spec list which resulting in us hacking on the code until it did what we damned well wanted.</p><p>Essentially, our modded script grabs the URLs from the featured column and creates a new array - starting with the current article - whether featured or not - and progresses through the featured posts in date order from the top.</p><p>When the reader approaches the bottom of the post, the next post is loaded from the array. The page title and URL bar update, and Matomo grabs the new page view.</p><h2>A modified Infinite Scroll script for Publii</h2><p>After some heavy (and probably largely unnecessary) butchery this is what we came up with. We admit it's unlikely to be the most elegant solution.</p><pre class="language-javascript"><code>&lt;script src="https://unpkg.com/infinite-scroll@5/dist/infinite-scroll.pkgd.min.js"&gt;&lt;/script&gt;
&lt;script&gt;
  const postContainer = document.querySelector('.content');
  const currentUrl = window.location.href.split('#')[0];

  const featuredLinks = [...document.querySelectorAll('.featured__container a')]
    .map(a =&gt; a.href.split('#')[0]);

  const combinedLinks = [currentUrl, ...featuredLinks];
  const postLinks = [...new Set(combinedLinks)];

  let currentIndex = 0;

  if (postContainer &amp;&amp; postLinks.length &gt; 1) {
    const infScroll = new InfiniteScroll(postContainer, {
      path() {
        const nextIndex = currentIndex + 1;
        return postLinks[nextIndex] || null;
      },
      append: '.content',
      history: false,
      scrollThreshold: 400,
      responseType: 'document',
    });

    infScroll.on('load', () =&gt; {
      currentIndex++;
    });

    infScroll.on('load', (response) =&gt; {
      const newTitle = response?.querySelector('title')?.innerText;
      if (newTitle) {
        document.title = newTitle;
      }
    });

    infScroll.on('append', (body, path) =&gt; {
      if (path) {
        window.history.pushState({}, '', path);
        if (window._paq) {
          window._paq.push(['setCustomUrl', path]);
          window._paq.push(['setDocumentTitle', document.title]);
          window._paq.push(['trackPageView']);
        }
      }
    });
  }

  window.addEventListener('popstate', () =&gt; {
    window.location.reload();
  });
&lt;/script&gt;
</code></pre><p>It works - or at least it seems too, although we're forced to admit that it took far longer than it should have.</p><p>To improve the experience for readers, we decided to remove the author bio, post navigation, and related posts from the bottom of all posts. If you're that interested in this writer, you can click my name next to the date, and honestly, the "related posts" feature never worked that well for us anyway. One other thing to note is that lazy loading images borked things for us. YMMV.</p><h2>Are we happy with how The Crow looks and feels now?</h2><p>Well, we're not <em>unhappy </em>with it. Publii gets the job done with less fuss and tinkering than does Jekyll, and GitHub integration make it a neat publishing solution. On the other hand, the site is fairly hefty. We'll work on that in the future.</p><p>There are a few features we integrated into our Jekyll / Raspberry Pi workflow which we'd like to bring back, such as our janky <a href="https://thecrow.uk/comments-on-a-static-site-its-simpler-than-you-think/">log-based commenting system</a>.</p><p>For now though, scrolling through featured posts is pretty natty. And yes, we know it's not actually infinite.</p><p> </p><h4>Image credit:</h4><p><a href="https://unsplash.com/@akramhuseyn?utm_content=creditCopyText&amp;utm_medium=referral&amp;utm_source=unsplash">Akram Huseyn</a> on <a href="https://unsplash.com/photos/woman-in-blue-dress-shirt-reading-book-umJ4PCS-rEI?utm_content=creditCopyText&amp;utm_medium=referral&amp;utm_source=unsplash">Unsplash</a></p></div><aside class="content__aside"><div class="content__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fthecrow.uk%2Finfinite-featured-post-scroll-with-publii-static-site-generator%2F" class="js-share facebook" title="Share with Facebook" rel="nofollow noopener noreferrer" aria-label="Share with Facebook"><svg class="u-icon"><use xlink:href="https://thecrow.uk/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fthecrow.uk%2Finfinite-featured-post-scroll-with-publii-static-site-generator%2F&amp;via=The%20Crow&amp;text=Infinite%20featured-post%20scroll%20with%20Publii%20static%20site%20generator" class="js-share twitter" title="Share with Twitter" rel="nofollow noopener noreferrer" aria-label="Share with Twitter"><svg class="u-icon"><use xlink:href="https://thecrow.uk/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://pinterest.com/pin/create/button/?url=https%3A%2F%2Fthecrow.uk%2Finfinite-featured-post-scroll-with-publii-static-site-generator%2F&amp;media=https%3A%2F%2Fthecrow.uk%2Fmedia%2Fposts%2F100%2Fakram-huseyn-umJ4PCS-rEI-unsplash.jpg&amp;description=Infinite%20featured-post%20scroll%20with%20Publii%20static%20site%20generator" class="js-share pinterest" title="Share with Pinterest" rel="nofollow noopener noreferrer" aria-label="Share with Pinterest"><svg class="u-icon"><use xlink:href="https://thecrow.uk/assets/svg/svg-map.svg#pinterest"/></svg> </a><a href="https://wa.me/?text=Infinite%20featured-post%20scroll%20with%20Publii%20static%20site%20generator https%3A%2F%2Fthecrow.uk%2Finfinite-featured-post-scroll-with-publii-static-site-generator%2F" class="js-share whatsapp" rel="nofollow noopener noreferrer" title="Share with WhatsApp" aria-label="Share with WhatsApp"><svg class="u-icon"><use xlink:href="https://thecrow.uk/assets/svg/svg-map.svg#whatsapp"/></svg></a></div></aside></article></main><div class="sidebar"><section class="box featured"><h3 class="box__title">Featured</h3><ul class="featured__container"><li class="featured__item"><a href="https://thecrow.uk/after-effectively-banning-porn-idaho-state-government-shows-visitors-porn/" class="featured__image-link"><img src="https://thecrow.uk/media/posts/101/responsive/idahoe-xs.webp" class="lazyload" alt="Map of Idaho overlaid with a couple in their underwear in a bed" height="800" width="800"></a><div><a href="https://thecrow.uk/after-effectively-banning-porn-idaho-state-government-shows-visitors-porn/" class="featured__title">After effectively banning porn, Idaho state government shows visitors... porn.</a></div></li><li class="featured__item"><a href="https://thecrow.uk/service-model-by-adrian-tchaikovsky-a-darkly-tragic-comedy-of-civilisations-end/" class="featured__image-link"><img src="https://thecrow.uk/media/posts/96/responsive/service_model-xs.webp" class="lazyload" alt="Cover of service model showing a robot in a derelic landscape carrying teapot" height="800" width="800"></a><div><a href="https://thecrow.uk/service-model-by-adrian-tchaikovsky-a-darkly-tragic-comedy-of-civilisations-end/" class="featured__title">Service Model by Adrian Tchaikovsky - a tar-black comedy of civilisation&#x27;s end</a></div></li><li class="featured__item"><a href="https://thecrow.uk/gamebox-300-barrels-of-emulated-fun-with-some-significant-drawbacks/" class="featured__image-link"><img src="https://thecrow.uk/media/posts/1/responsive/gamebox-xs.webp" class="lazyload" alt="Damacoola Gamebox 300 with a zebra sticker, showing MAME screen. " height="800" width="800"></a><div><a href="https://thecrow.uk/gamebox-300-barrels-of-emulated-fun-with-some-significant-drawbacks/" class="featured__title">The Gamebox 300 is a Game Boy Color - with extras</a></div></li><li class="featured__item"><a href="https://thecrow.uk/gamelofts-the-oregon-trail-is-a-fun-time-suck/" class="featured__image-link"><img src="https://thecrow.uk/media/posts/93/responsive/oregon_trail-2xl-xs.webp" class="lazyload" alt="Two covered wagons under a purple sky with campfire" height="841" width="841"></a><div><a href="https://thecrow.uk/gamelofts-the-oregon-trail-is-a-fun-time-suck/" class="featured__title">Gameloft&#x27;s The Oregon Trail is a fun time-suck</a></div></li><li class="featured__item"><a href="https://thecrow.uk/print-your-way-through-the-zombie-apocalypse/" class="featured__image-link"><img src="https://thecrow.uk/media/posts/95/responsive/printpocalypse-xs.webp" class="lazyload" alt="A zombie woman through bars overlaid with a crossbow, water still, fishing reel, and bicycle" height="800" width="800"></a><div><a href="https://thecrow.uk/print-your-way-through-the-zombie-apocalypse/" class="featured__title">Print your way through the zombie apocalypse</a></div></li><li class="featured__item"><a href="https://thecrow.uk/elegoo-neptune-4-max-large-format-3d-printer-review-at-homeneed-at-home/" class="featured__image-link"><img src="https://thecrow.uk/media/posts/94/responsive/elegoo_neptune_4_max-xs.webp" class="lazyload" alt="Elegoo Neptune 4 Max on a table with a wall map behind it." height="1440" width="1440"></a><div><a href="https://thecrow.uk/elegoo-neptune-4-max-large-format-3d-printer-review-at-homeneed-at-home/" class="featured__title">The giant in the attic - a large format 3D printer is just what you need at home</a></div></li><li class="featured__item"><a href="https://thecrow.uk/emulate-classic-game-boy-action-in-the-linux-terminal/" class="featured__image-link"><img src="https://thecrow.uk/media/posts/88/responsive/linux_terminal_game_boy-2xl-xs.webp" class="lazyload" alt="Teenage mutant ninja terminal gameboy action in the Linux terminal overlaid with front and back images of a first gen game boy" height="800" width="800"></a><div><a href="https://thecrow.uk/emulate-classic-game-boy-action-in-the-linux-terminal/" class="featured__title">Emulate classic Game Boy action in The Linux Terminal  </a></div></li><li class="featured__item"><a href="https://thecrow.uk/ancestrycom-helping-you-trace-your-roots-and-share-your-exact-address/" class="featured__image-link"><img src="https://thecrow.uk/media/posts/85/responsive/gokhan-yetimova-wmdhQhUrC7A-unsplash-xs.webp" class="lazyload" alt="A man in a black hat and trenchcoat checking his phone in a doorway" height="800" width="800"></a><div><a href="https://thecrow.uk/ancestrycom-helping-you-trace-your-roots-and-share-your-exact-address/" class="featured__title">Ancestry.com: Helping you trace your roots and share your exact address</a></div></li></ul></section><section class="box u-ads"><h3 class="u-ads__title">Advertisement</h3><a rel="sponsored" href="https://namecheap.pxf.io/c/5003685/1187122/5618" target="_top" id="1187122"><img src="//a.impactradius-go.com/display-ad/5618-1187122" border="0" alt="" width="160" height="600"></a><img height="0" width="0" src="https://namecheap.pxf.io/i/5003685/1187122/5618" style="position:absolute;visibility:hidden;" border="0"></section></div><footer class="footer"><a class="footer__logo" href="https://thecrow.uk/"><img src="https://thecrow.uk/media/website/the_crow_new_banner-3.png" alt="The Crow" width="1070" height="233"></a><nav><ul class="footer__nav"></ul></nav><div class="footer__copyright"><p>Copyright 2025 thecrow.uk</p></div></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.navbar',
   };</script><script defer="defer" src="https://thecrow.uk/assets/js/scripts.min.js?v=18a65c58aef57c0287e0f0609f3389a9"></script><script src="https://unpkg.com/infinite-scroll@5/dist/infinite-scroll.pkgd.min.js"></script><script>document.addEventListener("DOMContentLoaded", function () {
    const isPostPage = document.body.classList.contains('post-template');
    const isHomePage = document.body.classList.contains('home-template');

    // Infinite scroll for post pages
    if (isPostPage) {
      const postContainer = document.querySelector('.content');
      const currentUrl = window.location.href.split('#')[0];

      const featuredLinks = [...document.querySelectorAll('.featured__container a')]
        .map(a => a.href.split('#')[0]);

      const combinedLinks = [currentUrl, ...featuredLinks];
      const postLinks = [...new Set(combinedLinks)];

      let currentIndex = 0;

      if (postContainer && postLinks.length > 1) {
        const infScroll = new InfiniteScroll(postContainer, {
          path() {
            const nextIndex = currentIndex + 1;
            return postLinks[nextIndex] || null;
          },
          append: '.content',
          history: false,
          scrollThreshold: 400,
          responseType: 'document',
        });

        infScroll.on('load', () => {
          currentIndex++;
        });

        infScroll.on('load', (response) => {
          const newTitle = response?.querySelector('title')?.innerText;
          if (newTitle) {
            document.title = newTitle;
          }
        });

        infScroll.on('append', (body, path) => {
          if (path) {
            window.history.pushState({}, '', path);
            if (window._paq) {
              window._paq.push(['setCustomUrl', path]);
              window._paq.push(['setDocumentTitle', document.title]);
              window._paq.push(['trackPageView']);
            }
          }
        });

        window.addEventListener('popstate', () => {
          window.location.reload();
        });
      }
    }

    // Infinite scroll for homepage
    if (isHomePage) {
      const mainContainer = document.querySelector('.main');

      if (mainContainer) {
        new InfiniteScroll(mainContainer, {
          path: '.pagination__item--prev',
          append: '.post',
          history: false,
          scrollThreshold: 400,
        });
      }
    }
  });</script></body></html>